---
id: Introduction
title: 绪论
tags: 
  - 计算机组成原理
---

## 计算机系统的组成

**计算机**（Computer）俗称电脑，是能够自动、高速、准确地对各种信息进行处理和存储的电子设备。

**计算机系统**（Computer System）是指`电子数字通用`计算机系统。

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220901135135.png)

完整的计算机系统由**硬件**（Hardware）和**软件**（Software）两大部分组成。

计算机系统的硬件和软件各自成体系，分别称为*硬件系统*和*软件系统*。

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220901135330.png)

### 计算机系统的层次结构

<table>
    <tr>
        <td rowspan="3"><strong>软件</strong>  虚拟机</td> 
        <td>第五级        高级语言级</td> 
        <td>高级语言级是为方便用户编写应用程序而设置的，由各种高级语言编译程序支持，面向高级语言程序员。 </td> 
   </tr>
    <tr>    
  		 <td>第四级        汇编语言级</td> 
      	 <td>提供一种符号语言即汇编语言，以减少程序编写复杂性，并由汇编程序翻译成机器语言，这一级由汇编程序支持。面向汇编语言程序员 </td> 
    </tr>
    <tr>
        <td>第三级          操作系统级</td> 
        <td>由操作系统实现。它要直接管理传统机器的软硬件资源，是传统机器的延伸；同时要对整个系统的任务进行调度。</td>    
    </tr>
    <tr>
        <td rowspan="2"><strong>硬件</strong>  物理机</td>
        <td>第二级          一般机器级</td> 
        <td>机器语言是该机的指令集，机器语言程序可由微程序解释，即由微程序解释机器指令系统。这一级是软硬件的分界面。 面向机器语言设计者</td>    
    </tr>
    <tr>
        <td>第一级          微程序级</td> 
        <td>微指令编写的微程序直接由硬件执行，微程序被固化于只读存储器ROM中。面向逻辑设计者</td>    
    </tr>
</table>

### 硬件和软件的逻辑等价性

有许多功能既可以直接由硬件实现，也可以在硬件支持下靠软件实现，对用户来说在功能上是等价的，我们称之为***软硬件在功能上的逻辑等价***。

- **硬件软化**：原来由硬件实现的功能改由软件模拟来实现
- **软件硬化**：原来由软件实现的功能改由硬件来实现
- **固件（Firmware）**：
    - 1967年由美国人A·Opler首先提出
    - 指存储在能永久保存信息的器件（如ROM）中的程序，是具有软件功能的硬件
    - 固件性能*介于硬件与软件之间*，吸收了软硬件的优点，速度快于软件，灵活性优于硬件，是软硬件结合的产物。

### 硬件和软件的关系

计算机硬件是载体，软件是灵魂。

- **互相依存**：计算机系统必须配备完善的软件系统，软件应充分发挥硬件的功能
- **逻辑等效性**：某些功能既可由硬件实现，也可由软件来实现
- **协同发展**：软件随硬件技术的迅速发展而发展，而软件的不断发展完善又促进硬件更新

## 计算机的硬件系统

### 冯·诺依曼计算机

以美籍匈牙利数学家冯 · 诺依曼为首的研制小组提出了“`存储程序、程序控制`”的设计思想，体现该设计思想的计算机EDVAC在1951年问世。

目前绝大多数计算机仍然建立在存储程序概念的基础上，称为*冯·诺依曼计算机*。

特点：
- 计算机硬件由`运算器、控制器、存储器、输入设备、输出设备`5部分组成；
- 将编号的程序和原始数据事先存入存储器中，然后启动计算机工作。这一点最为重要，及`**存储程序、程序控制**`的思想；
- 指令和数据以*二进制码*表示；
- 指令由`操作码`和`地址码`组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置；
- 指令在存储器中*按执行顺序存放*；由程序计数器（Program Counter，PC）指明要执行的指令所在的单元地址，一般按顺序递增；
- 早期的机器以运算器为中心，输入输出设备与存储器间的数据传送都通过运算器。

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902150653.png)

#### 计算机硬件的基本组成

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902150916.png)

#### 计算机的功能部件通过总线连接

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902150958.png)

系统总线包含：
- 数据总线
- 地址总线
- 控制总线

### 运算器

运算器是一个用于信息加工的部件，又称为执行部件。由算术逻辑部件（ALU）和一系列寄存器组成。

#### 功能

执行算术运算、逻辑运算以及数据转换，更复杂的运算分解成这些基本运算来实现。

#### 通常采用二进制进行运算

1 和 0可用电压的高和低、脉冲的有和无表示 ，具有实现的物质基础。

#### 使用二进制数的优点

运算规则简单、容易用电子线路来实现、可靠性非常高。 

### 控制器

控制器把指令逐条从存储器中取出，经译码后向计算机发出各种控制命令，是全机的指挥中心，它使计算机各部件自动协调地工作。

#### 控制器的作用

协调计算机各部件之间的工作。具体讲，控制器从内存中取出解题步骤（指令），加以分析后执行某种规定的操作。

:::info
指令——每个基本操作

程序——解算某一问题的一串指令序列
:::

#### 指令的作用

告诉控制器做什么操作，数据从哪里来、结果送到哪里去。  
指令由两大部分构成：`操作码`说明执行什么操作，而`地址码`说明数据的来源和去向。

#### 存储程序、程序控制

指令用二进制表示、并预先存放在存储器中，称为`存储程序`。

控制器依据存储的程序控制计算机完成计算任务，称为`程序控制`。

`存储程序、程序控制`是冯·诺依曼型计算机设计思想的核心。

#### 控制器的基本任务

按照一定的顺序一条接着一条取指令、指令译码、执行指令。

:::info
取指令的时间叫**取指周期**，执行指令的时间叫**执行周期**。

如果某字代表的要处理的数据，则称为**数据字**，如果某字为一条指令，则称为**指令字**。

控制器完全可以区分开哪些是指令字，哪些是数据字。一般来讲，*取指周期中从内存读出的信息流是指令流*，它流向控制器；而在*执行周期中从内存读出的信息流是数据流*，它由内存流向运算器。

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902153234.png)

:::

### 存储器

存储器的功能是**存放程序和数据**。

存储器由半导体器件构成，例如一个触发器有两个状态，可表示1位二进制数，16位数需要16个触发器。  
保存一个数的所有触发器合起来称为一个`存储单元` 。每个单元都有一个编号，这个编号叫`地址`。

存储器能存储的二进制位数称为存储容量，用KB、MB、GB表示。存储容量越大，能记忆的信息越多。

:::info 存储容量换算
1GB=1024MB

1MB=1024KB
:::

半导体存储器的存储容量有限，计算机配备了存储容量更大的磁盘存储器和光盘存储器，称为**辅助存储器**（也叫外存储器）。相对而言，半导体存储器称为**主存储器**（简称主存），也叫内存储器（简称内存）。

:::tip 存储器的两种设计思想之——冯·诺依曼结构

该结构也叫普林斯顿结构，是一种传统的存储器设计思想。

**指令和数据共用一个存储器**，指令地址和数据地址指向同一个存储器的不同物理位置，指令和数据的宽度相同

缺点：
- 不能同时取指令和取操作数
- 计算机的运算速度受到很大限制

使用该结构的CPU：
- Intel公司的80x86、ARM公司的ARM7、MIPS公司的MIPS等

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902154732.png)

:::

:::tip 存储器的两种设计思想之——哈佛结构

特点：
- 指令和数据放在**不同的存储器**中。
- 指令和数据可以有不同的数据宽度。
- 执行效率较高

使用该结构的CPU：
- 摩托罗拉公司的MC68系列、Zilog公司的Z8系列、ARM公司的ARM9、ARM10、ARM11、大多数单片机和数字信号处理（DSP）系统

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902154328.png)
:::

### 输入设备

#### 任务

把编好的程序和原始数据送到计算机中去，并把它们转换成计算机能识别、能接受的信息形式 。计算机不能没有输入设备。

#### 种类

例如鼠标、键盘、扫描仪等是常见的输入设备；新设备不断出现，如软键盘

### 输出设备

#### 任务

把计算机的处理结果以人或其它设备能接受的形式送出计算机。计算机不能没有输出设备，否则计算机的存在就没有意义。

#### 种类

例如显示器、打印机等是常见的输出设备。

:::info 
输入设备和输出设备合称输入输出设备（`I/O设备`）
:::

### CPU、主机、外设

#### CPU：
中央处理器（Center Processing Unit，CPU）也叫中央处理机，简称处理器：

         CPU = 运算器 + 控制器

#### 计算机主机：
         主机 = 中央处理器（CPU） + 主存储器

#### 外部设备：
         外设 = 主机以外的其它硬件装置

## 计算机的软件系统

软件分为两大类：**系统软件**、**应用软件**

#### 系统软件

分类：
- 操作系统
- 服务性程序
- 语言类程序
- 数据库管理系统

#### 应用软件

举例：
- 文字与表格处理软件(如WPS、Word、Excel等)
- 图形与图像处理软件(Photoshop、3DMAX)等
- 辅助设计软件(如CAD、CAM、CAI、CAT等)
- 信息管理软件(如工资管理软件、人事管理软件等)
- 科学计算程序

#### 操作系统

如下图,操作系统有Windows、Mac OS X、Lunix、Unix、DOS、红旗、中标麒麟、银河麒麟等。

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902162442.png)

## 计算机的语言

#### 程序设计语言：

人和计算机交流信息使用的语言称为计算机语言或称程序设计语言, 即编写程序所采用的语言就是程序设计语言。

#### 计算机语言分类：
- 机器语言
- 汇编语言
- 高级语言

### 机器语言

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902164816.png)

- 由0和1组成的二进制代码序列且依赖于硬件的计算机语言。
- 机器语言是计算机**唯一**可以直接识别和执行的语言。

#### 特点

1. 从形式上表现为由0、1序列组成的指令系统
2. 机器语言不需要经过任何翻译工作，*执行效率高*
3. 难记忆，难理解，难开发，难调试，易出错
4. *不同型号CPU的指令集有较大差异，对应的机器指令也不同*，但同一系列的CPU指令集有**向上兼容性**，如：Intel80386指令集就包含了8086的指令集

### 汇编语言

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902164838.png)

- 将二进制形式的机器指令代码序列用符号（助记符）表示。
- 是**面向机器**的程序设计语言

#### 优点

可读性较好，便于检查和修改错误

#### 缺点

1. 基本操作简单，描述问题的能力差，编写程序工作量大，源程序较长。
2. 编写的程序与问题的描述相差甚远，可读性仍不好。
3. 依赖于计算机的硬件结构和指令系统，可移植性差

### 高级语言

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902164925.png)

- 不能被直接执行，必须将它们翻译成具体的机器语言程序才能执行。
- 是**面向问题**的程序设计语言。

#### 优点

1. 与计算机的硬件结构和指令系统无关
2. 表达方式比较接近自然语言
3. 描述问题的能力强
4. 可读性、通用性和可维护性好
5. 与机器的字长、寄存器、内存单元地址等无关

#### 缺点

1. 高级语言必须翻译成机器语言才能执行，需要给计算机配置一套用机器语言写的编译程序，将高级语言编写的源程序翻译成目的程序，然后由机器执行目的程序。由于编译过程复杂死板，翻译出来的机器语言冗长，占内存大，速度慢；
2. 高级语言不能编写访问机器硬件资源的系统软件或设备控制软件。

:::info 解决第二个缺点的方法
提供高级语言与汇编语言的调用接口
:::

## 计算机的主要性能指标

### 机器字长

机器字长是指计算机进行一次*整数运算*所能处理的**二进制数据的位数**

- 由运算器、寄存器的位数决定
- 一般**与`内部寄存器`的位数相等**
- 字长决定数据表示范围与精度
- 目前常见的有32位和64位字长
- 字长越长，精度越高，如64位比32精度高

### 总线宽度

总线宽度：数据总线一次能并行传送的**最大信息位数**

- 运算器与存储器之间的*数据总线位数*。
- 有些计算机内部与外部数据总线宽度不一致：
- 8086、80286、80386内外数据总线等宽；
- Pentium外总线64位，内总线32位（两条32位流水线）

### 主存容量、存储带宽

#### 主存容量：
是指一台计算机*主存*所能存储的二进制位数，通常以`字节(Byte)`来衡量，也可用`字数×位数`来表示。

#### 存储带宽：
指*单位时间*内与*主存*交换的二进制信息量，单位Byte/s。   
(影响存储带宽的指标包括`数据位宽`和`数据传输速率`)。

### CPU内核数

- 早期的CPU都是单核
- 在2004年时CPU的主频提高遇到了瓶颈
- 双核、多核CPU应运而生

### 吞吐量

吞吐量指系统在单位时间内处理请求的数量。

- 取决于信息能多快地输入内存，CPU能多快地取指令，数据能多快地从内存取出或存入，以及所得结果能多快地从内存送给一台外部设备。这些步骤中的每一步都关系到主存，因此，**系统吞吐量主要取决于`主存的存取周期`**。 

### 响应时间

响应时间指从用户向计算机发送一个请求，到系统对该请求做出响应并获得它所需要的结果的等待时间。

- 通常包括`CPU时间`（运行一个程序所花费的时间）与`等待时间`（用于磁盘访问、存储器访问、I/O操作、操作系统开销等时间）。 

### 主频、时钟周期、外频、倍频

#### 主频f

CPU工作的时钟频率，与CPU运算能力之间不是唯一的、直接关系；度量单位是MHz（兆赫兹）、GHz（吉赫兹）

#### 时间周期T=1/f

**主频的倒数**，计算机中最基本的、最小的时间单位。一个时钟周期，CPU仅完成一个最基本的动作；度量单位是us、ns

#### 外频

系统总线的工作频率，CPU与主板之间同步运行的速度，标准外频66MHz、100MHz、133MHz、200MHz、400MHz

#### 倍频

- 主频=外频×倍频 ， Pentium 4 2.4G 主频  2400M = 133M (外频) × 18 (倍频)
- 调整倍频可以获得较高的主频，486后出现的技术，使得外设低频，CPU高频

:::info 单位换算
- 1 s  =  1,000,000 us
- 1 s  =  1,000,000,000 ns
- 1MHz =  
- 1GHz =  
:::

### CPI、IPC

#### CPI  (Clock cycles Per Instruction)

执行一条指令所需的**平均时钟周期数**

CPI  
=执行某段程序所需的CPU时钟周期数(N<sub>C</sub>) / 程序包含的指令条数(I<sub>N</sub>)     
=程序中各类指令的CPI(CPI<sub>i</sub>)  *  程序中该类指令的比例(I<sub>i</sub>/I<sub>N</sub>)          

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902234950.png)


#### IPC  (Instructions Per Clock cycle)  
- 每个时钟周期执行的指令条数
- 强调并行



### MIPS、MFLOPS

#### MIPS (Million Instructions  Per Second) 

表示平均每秒执行多少百万条指令数

![](https://fusheng1221.oss-cn-beijing.aliyuncs.com/fusheng-001-img/20220902235513.png)

#### MFLOPS   (Million Floating-Point Operations Per Second) 



### CPU执行时间










### 











### 














### 












### 












### 









### 











### 















### 































